<?php return array (
  '22f4af8c665b05e4954cbbb17bf112bf' => 
  array (
    'criteria' => 
    array (
      'name' => 'admintools',
    ),
    'object' => 
    array (
      'name' => 'admintools',
      'path' => '{core_path}components/admintools/',
      'assets_path' => '',
    ),
  ),
  '80111dcaab77c95ef507af03622cdc0f' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_favorites_icon',
    ),
    'object' => 
    array (
      'key' => 'admintools_favorites_icon',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'a4a19530ca5258a9cc4e4eb3fda53bbb' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_check_elements_permissions',
    ),
    'object' => 
    array (
      'key' => 'admintools_check_elements_permissions',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_permissions',
      'editedon' => NULL,
    ),
  ),
  '12020cfb306b1c621f20b78055bd7e02' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_remember_system_settings',
    ),
    'object' => 
    array (
      'key' => 'admintools_remember_system_settings',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '45d27ec8dbfadee5f925bef0f4ce41cf' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_enable_elements_log',
    ),
    'object' => 
    array (
      'key' => 'admintools_enable_elements_log',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'd520d004ee4a3fcdd418e87666dfce47' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_enable_favorite_elements',
    ),
    'object' => 
    array (
      'key' => 'admintools_enable_favorite_elements',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '6d3c279066f3569623b12af85ad28a32' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_clear_only_resource_cache',
    ),
    'object' => 
    array (
      'key' => 'admintools_clear_only_resource_cache',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '595f78dfc98247be78440e3810418f17' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_hide_component_description',
    ),
    'object' => 
    array (
      'key' => 'admintools_hide_component_description',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'fde9dcce24445e355d9dbf71019eda58' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_email_authorization',
    ),
    'object' => 
    array (
      'key' => 'admintools_email_authorization',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_authorization',
      'editedon' => NULL,
    ),
  ),
  '510201082dd8df6a29482b43fa85a30f' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_authorization_ttl',
    ),
    'object' => 
    array (
      'key' => 'admintools_authorization_ttl',
      'value' => '600',
      'xtype' => 'numberfield',
      'namespace' => 'admintools',
      'area' => 'admintools_authorization',
      'editedon' => NULL,
    ),
  ),
  '3c217f9c0b324f31729f7c87b733d387' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_loginform_resource',
    ),
    'object' => 
    array (
      'key' => 'admintools_loginform_resource',
      'value' => '',
      'xtype' => 'numberfield',
      'namespace' => 'admintools',
      'area' => 'admintools_authorization',
      'editedon' => NULL,
    ),
  ),
  '09f08ae2424dc63c056c0a3aecac81f6' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_enable_notes',
    ),
    'object' => 
    array (
      'key' => 'admintools_enable_notes',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '3dcd57c6a105192865437179afb0aecc' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_template_resource_relationship',
    ),
    'object' => 
    array (
      'key' => 'admintools_template_resource_relationship',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '944cee5291113702a0f5e6d9bafebb2a' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_animate_menu',
    ),
    'object' => 
    array (
      'key' => 'admintools_animate_menu',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '84c04d6153854a1861935c31832d5882' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_alternative_permissions',
    ),
    'object' => 
    array (
      'key' => 'admintools_alternative_permissions',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_permissions',
      'editedon' => NULL,
    ),
  ),
  'db9ba83f7c13340af8dec084b0fd84da' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_plugins_events',
    ),
    'object' => 
    array (
      'key' => 'admintools_plugins_events',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '6c4883ed3494cc5d126606a85e946f6a' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_theme',
    ),
    'object' => 
    array (
      'key' => 'admintools_theme',
      'value' => 'default',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '53680df996e15a03e6187efebe14c80a' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_modx_tree_position',
    ),
    'object' => 
    array (
      'key' => 'admintools_modx_tree_position',
      'value' => 'left',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'f9a45d2258a578f8130d05df838364c1' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_custom_css',
    ),
    'object' => 
    array (
      'key' => 'admintools_custom_css',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'fedd1273349e65fda1e59f6db43a0dbe' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_custom_js',
    ),
    'object' => 
    array (
      'key' => 'admintools_custom_js',
      'value' => '/assets/js/jquery-3.3.1.min.js',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => '2018-05-04 10:39:59',
    ),
  ),
  '8d3d179d189cacf811898f12cb972302' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_package_actions',
    ),
    'object' => 
    array (
      'key' => 'admintools_package_actions',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '6472fdef3805136787843b1dbcaa4bb2' => 
  array (
    'criteria' => 
    array (
      'category' => 'AdminTools',
    ),
    'object' => 
    array (
      'id' => 34,
      'parent' => 0,
      'category' => 'AdminTools',
      'rank' => 0,
    ),
  ),
  '4e5644f40d4f6ec85bc28333f24e00ba' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.login.form',
    ),
    'object' => 
    array (
      'id' => 71,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.login.form',
      'description' => '',
      'editor_type' => 0,
      'category' => 34,
      'cache_type' => 0,
      'snippet' => '<div id="container">
	<div id="modx-login-logo">
		<!--[if gte IE 9]><!--><img src="/manager/templates/default/images/modx-logo-color.svg" alt="MODX CMS/CMF"><!--<![endif]-->
		<!--[if lt IE 9]><img alt="MODX CMS/CMF" src="/manager/templates/default/images/modx-logo-color.png" /><![endif]-->
	</div>

	<div class="modx-form" id="modx-login-panel">
		<div class="panel-title">
			<h2>[[++site_name]]</h2>
		</div>
		<div id="errormsg">[[+errormsg]]</div>
		<div class="panel-body">
			<form method="post" action="" id="manager-login-form">
				<div class="login-form-item">
					<div class="login-form-element">
						<input type="text" placeholder="[[%admintools_username_email]]" class="form-text" name="userdata" id="userdata" autocomplete="on">
					</div>
				</div>
				<div class="form-action">
					<button id="send-email-btn" value="1" type="button" class="primary-button login-form-btn">[[%admintools_send_authorization_link]]</button>
				</div>
			</form>
		</div>
	</div>
</div>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/admintools/elements/chunks/chunk.login.form.tpl',
      'content' => '<div id="container">
	<div id="modx-login-logo">
		<!--[if gte IE 9]><!--><img src="/manager/templates/default/images/modx-logo-color.svg" alt="MODX CMS/CMF"><!--<![endif]-->
		<!--[if lt IE 9]><img alt="MODX CMS/CMF" src="/manager/templates/default/images/modx-logo-color.png" /><![endif]-->
	</div>

	<div class="modx-form" id="modx-login-panel">
		<div class="panel-title">
			<h2>[[++site_name]]</h2>
		</div>
		<div id="errormsg">[[+errormsg]]</div>
		<div class="panel-body">
			<form method="post" action="" id="manager-login-form">
				<div class="login-form-item">
					<div class="login-form-element">
						<input type="text" placeholder="[[%admintools_username_email]]" class="form-text" name="userdata" id="userdata" autocomplete="on">
					</div>
				</div>
				<div class="form-action">
					<button id="send-email-btn" value="1" type="button" class="primary-button login-form-btn">[[%admintools_send_authorization_link]]</button>
				</div>
			</form>
		</div>
	</div>
</div>',
    ),
  ),
  '7aff88d8289f5ead5fbf7b1e3a1e4263' => 
  array (
    'criteria' => 
    array (
      'name' => 'adminLogin',
    ),
    'object' => 
    array (
      'id' => 60,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'adminLogin',
      'description' => '',
      'editor_type' => 0,
      'category' => 34,
      'cache_type' => 0,
      'snippet' => '$path = $modx->getOption(\'admintools_core_path\', null, $modx->getOption(\'core_path\') . \'components/admintools/\').\'model/admintools/\';
/** @var AdminTools $AdminTools */
$AdminTools = $modx->getService(\'admintools\',\'AdminTools\',$path, $scriptProperties);
if (isset($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\') {
    $get = $modx->sanitize($_GET, $modx->sanitizePatterns);
    $get = array_map(\'trim\',$get);
    $success = true;
    $message = $modx->lexicon(\'admintools_link_is_sent\');
    if (empty($get[\'action\']) || $get[\'action\'] != \'login\') {
        $message = \'Access is denied\';
        $success = false;
    } elseif (empty($get[\'userdata\'])) {
        $message =  $modx->lexicon(\'admintools_enter_username_or_email\');
        $success = false;
    }
    if ($success) {
        if ($msg = $AdminTools->sendLoginLink($get)){
            $success = false;
            $message = $msg;
        };
    }
    $response = array(\'success\'=>$success, \'message\'=>$message);
    exit($modx->toJSON($response));
} else {
    if ($modx->user->isAuthenticated(\'mgr\')) {
        $url = $modx->getOption(\'manager_url\', null, MODX_MANAGER_URL);
        $url = $modx->getOption(\'url_scheme\', null, MODX_URL_SCHEME) . $modx->getOption(\'http_host\', null, MODX_HTTP_HOST) . rtrim($url, \'/\');
        $modx->sendRedirect($url);
    }
    $errormsg = \'\';
    if (isset($_GET[\'a\']) && isset($_GET[\'hash\']) && isset($_GET[\'id\'])) {
        $get = $modx->sanitize($_GET, $modx->sanitizePatterns);
        $data = $AdminTools->getLoginState($get[\'id\']);
        if (!empty($data) && $get[\'hash\'] == $data[\'hash\'] && !empty($data[\'uid\'])) {
            $key = md5($_SERVER[\'REMOTE_ADDR\'] . \'/\' . $_SERVER[\'HTTP_USER_AGENT\'] . $data[\'uid\']);
            if ($key == $get[\'id\']) {
                $errormsg = $AdminTools->loginUser($data[\'uid\']);
            }
        }
    }
    /** @var array $scriptProperties */
    $assetsUrl = $AdminTools->getOption(\'assetsUrl\');
    $modx->regClientCss($assetsUrl . \'css/mgr/login.css\');
    $modx->regClientScript($assetsUrl . \'js/mgr/login.js\');
    return $modx->getChunk($tpl,array(\'errormsg\'=>$errormsg));
}',
      'locked' => 0,
      'properties' => 'a:1:{s:3:"tpl";a:7:{s:4:"name";s:3:"tpl";s:4:"desc";s:19:"admintools_prop_tpl";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:14:"tpl.login.form";s:7:"lexicon";s:21:"admintools:properties";s:4:"area";s:0:"";}}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/admintools/elements/snippets/snippet.adminlogin.php',
      'content' => '$path = $modx->getOption(\'admintools_core_path\', null, $modx->getOption(\'core_path\') . \'components/admintools/\').\'model/admintools/\';
/** @var AdminTools $AdminTools */
$AdminTools = $modx->getService(\'admintools\',\'AdminTools\',$path, $scriptProperties);
if (isset($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\') {
    $get = $modx->sanitize($_GET, $modx->sanitizePatterns);
    $get = array_map(\'trim\',$get);
    $success = true;
    $message = $modx->lexicon(\'admintools_link_is_sent\');
    if (empty($get[\'action\']) || $get[\'action\'] != \'login\') {
        $message = \'Access is denied\';
        $success = false;
    } elseif (empty($get[\'userdata\'])) {
        $message =  $modx->lexicon(\'admintools_enter_username_or_email\');
        $success = false;
    }
    if ($success) {
        if ($msg = $AdminTools->sendLoginLink($get)){
            $success = false;
            $message = $msg;
        };
    }
    $response = array(\'success\'=>$success, \'message\'=>$message);
    exit($modx->toJSON($response));
} else {
    if ($modx->user->isAuthenticated(\'mgr\')) {
        $url = $modx->getOption(\'manager_url\', null, MODX_MANAGER_URL);
        $url = $modx->getOption(\'url_scheme\', null, MODX_URL_SCHEME) . $modx->getOption(\'http_host\', null, MODX_HTTP_HOST) . rtrim($url, \'/\');
        $modx->sendRedirect($url);
    }
    $errormsg = \'\';
    if (isset($_GET[\'a\']) && isset($_GET[\'hash\']) && isset($_GET[\'id\'])) {
        $get = $modx->sanitize($_GET, $modx->sanitizePatterns);
        $data = $AdminTools->getLoginState($get[\'id\']);
        if (!empty($data) && $get[\'hash\'] == $data[\'hash\'] && !empty($data[\'uid\'])) {
            $key = md5($_SERVER[\'REMOTE_ADDR\'] . \'/\' . $_SERVER[\'HTTP_USER_AGENT\'] . $data[\'uid\']);
            if ($key == $get[\'id\']) {
                $errormsg = $AdminTools->loginUser($data[\'uid\']);
            }
        }
    }
    /** @var array $scriptProperties */
    $assetsUrl = $AdminTools->getOption(\'assetsUrl\');
    $modx->regClientCss($assetsUrl . \'css/mgr/login.css\');
    $modx->regClientScript($assetsUrl . \'js/mgr/login.js\');
    return $modx->getChunk($tpl,array(\'errormsg\'=>$errormsg));
}',
    ),
  ),
  '20c5a7626bf5ad802d92247e8b68d92a' => 
  array (
    'criteria' => 
    array (
      'name' => 'AdminTools',
    ),
    'object' => 
    array (
      'id' => 9,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'AdminTools',
      'description' => '',
      'editor_type' => 0,
      'category' => 34,
      'cache_type' => 0,
      'plugincode' => '/** @var array $scriptProperties */
$path = $modx->getOption(\'admintools_core_path\', null, $modx->getOption(\'core_path\') . \'components/admintools/\').\'model/admintools/\';
/** @var AdminTools $AdminTools */
$AdminTools = $modx->getService(\'admintools\',\'AdminTools\',$path);
$elementType = null;
if ($AdminTools instanceof AdminTools) {
    switch ($modx->event->name) {
        case \'OnManagerPageBeforeRender\':
            if ($modx->user->id) $AdminTools->initialize();
            break;
        case \'OnDocFormSave\':
            if ($modx->getOption(\'admintools_clear_only_resource_cache\',null,false)) {
                if ($modx->event->params[\'mode\'] != \'upd\') {
                    return;
                }
                if ($resource->get(\'syncsite\')) {
                    $AdminTools->clearResourceCache($resource);
                }
                if (!empty($_POST[\'createCache\'])) {
                    $AdminTools->createResourceCache($resource->uri);
                }
            }
            break;
        case \'OnManagerPageInit\':
            if (!$modx->user->isAuthenticated(\'mgr\') && $modx->getOption(\'admintools_email_authorization\', null, false)) {
                $id = (int) $modx->getOption(\'admintools_loginform_resource\');
                if (!empty($id) && $modx->getCount(\'modResource\', array(\'id\'=>$id, \'published\'=>1, \'deleted\'=>0))) {
                    $url = $modx->makeUrl($id,\'\',\'\',\'full\');
                    $modx->setOption(\'manager_login_url_alternate\', $url);
                }
            }
            break;
        case \'OnManagerAuthentication\':
            if ($modx->getOption(\'admintools_user_can_login\', null, false)) {
                $modx->setOption(\'admintools_user_can_login\', false);
                $modx->event->output(true);
            }
            break;
        case \'OnLoadWebDocument\':
            if ($modx->user->isAuthenticated($modx->context->get(\'key\')) && (!$modx->user->active || $modx->user->Profile->blocked)) {
                $modx->runProcessor(\'security/logout\');
            }
            if ($modx->getOption(\'admintools_alternative_permissions\', null, false) && !$AdminTools->hasPermissions()){
                $modx->sendUnauthorizedPage();
            }
            break;
        case \'OnTempFormPrerender\':
            if ($modx->getOption(\'admintools_template_resource_relationship\', null, true)) {
                $modx->controller->addLastJavascript($AdminTools->getOption(\'jsUrl\') . \'mgr/templates.js\');
            }
            break;
        case \'OnDocFormPrerender\':
            $_html = array();
            if ($modx->getOption(\'admintools_template_resource_relationship\', null, true)) {
                $_html[\'tpl_res_relationship\'] = \'
            var tmpl = Ext.getCmp("modx-resource-template");
            if (tmpl.getValue()) tmpl.label.update(_("resource_template") + "&nbsp;&nbsp;<a href=\\"?a=element/template/update&id=" + tmpl.getValue() + "\\"><i class=\\"icon icon-external-link\\"></i></a>");\';
            }
            if ($modx->getOption(\'admintools_clear_only_resource_cache\', null, true) && $resource instanceof modResource) {
                $_html[\'create_resource_cache\'] = \'
            var cb = Ext.create({
                xtype: "xcheckbox",
                boxLabel: _("admintools_create_resource_cache"),
                description: _("admintools_create_resource_cache_help"),
                hideLabel: true,
                name: "createCache",
                id: "createCache",
                checked: \'. intval($modx->getOption(\'admintools_create_resource_cache\', null, false)) .\'
            });
            if (Ext.getCmp("modx-page-settings-right-box-right")) {
                Ext.getCmp("modx-page-settings-right-box-right").insert(2,cb);
                Ext.getCmp("modx-page-settings-right-box-left").add(Ext.getCmp("modx-resource-uri-override"));
                Ext.getCmp("modx-panel-resource").on("success", function(o){
                    if (o.result.object.createCache != 0) {
                        cb.setValue(true);
                    }
                });
            }\';
            }
            $output = \'\';
            if (!empty($_html)) {
            $output .= \'
    Ext.onReady(function() {
        setTimeout(function(){\' . implode("\\n", $_html) . \'
        }, 200);
    });\';
            }
            if ($modx->getOption(\'admintools_alternative_permissions\', null, true) && $modx->hasPermission(\'access_permissions\')) {
                $modx->controller->addLastJavascript($AdminTools->getOption(\'jsUrl\') . \'mgr/permissions.js\');
                $output .= \'
    Ext.ComponentMgr.onAvailable("modx-resource-tabs", function() {
		this.on("beforerender", function() {
			this.add({
				title: _("admintools_permissions"),
				border: false,
				items: [{
					layout: "anchor",
					border: false,
					items: [{
						html: _("admintools_permissions_desc"),
						border: false,
						bodyCssClass: "panel-desc"
					}, {
						xtype: "admintools-grid-permissions",
						anchor: "100%",
						cls: "main-wrapper",
						resource: \' . $id . \'
					}]
				}]
			});
		});
	});
\';
            }
            if (!empty($output)) $modx->controller->addHtml(\'<script type="text/javascript">\' . $output . \'</script>\');
            break;
        /*case \'OnWebPagePrerender\':
            $output = &$modx->resource->_output;
            $replace = "";
            preg_replace(\'/</script>/\', $replace, $output, 1);
            break;*/
    }
}',
      'locked' => 0,
      'properties' => NULL,
      'disabled' => 0,
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/admintools/elements/plugins/plugin.admintools.php',
      'content' => '/** @var array $scriptProperties */
$path = $modx->getOption(\'admintools_core_path\', null, $modx->getOption(\'core_path\') . \'components/admintools/\').\'model/admintools/\';
/** @var AdminTools $AdminTools */
$AdminTools = $modx->getService(\'admintools\',\'AdminTools\',$path);
$elementType = null;
if ($AdminTools instanceof AdminTools) {
    switch ($modx->event->name) {
        case \'OnManagerPageBeforeRender\':
            if ($modx->user->id) $AdminTools->initialize();
            break;
        case \'OnDocFormSave\':
            if ($modx->getOption(\'admintools_clear_only_resource_cache\',null,false)) {
                if ($modx->event->params[\'mode\'] != \'upd\') {
                    return;
                }
                if ($resource->get(\'syncsite\')) {
                    $AdminTools->clearResourceCache($resource);
                }
                if (!empty($_POST[\'createCache\'])) {
                    $AdminTools->createResourceCache($resource->uri);
                }
            }
            break;
        case \'OnManagerPageInit\':
            if (!$modx->user->isAuthenticated(\'mgr\') && $modx->getOption(\'admintools_email_authorization\', null, false)) {
                $id = (int) $modx->getOption(\'admintools_loginform_resource\');
                if (!empty($id) && $modx->getCount(\'modResource\', array(\'id\'=>$id, \'published\'=>1, \'deleted\'=>0))) {
                    $url = $modx->makeUrl($id,\'\',\'\',\'full\');
                    $modx->setOption(\'manager_login_url_alternate\', $url);
                }
            }
            break;
        case \'OnManagerAuthentication\':
            if ($modx->getOption(\'admintools_user_can_login\', null, false)) {
                $modx->setOption(\'admintools_user_can_login\', false);
                $modx->event->output(true);
            }
            break;
        case \'OnLoadWebDocument\':
            if ($modx->user->isAuthenticated($modx->context->get(\'key\')) && (!$modx->user->active || $modx->user->Profile->blocked)) {
                $modx->runProcessor(\'security/logout\');
            }
            if ($modx->getOption(\'admintools_alternative_permissions\', null, false) && !$AdminTools->hasPermissions()){
                $modx->sendUnauthorizedPage();
            }
            break;
        case \'OnTempFormPrerender\':
            if ($modx->getOption(\'admintools_template_resource_relationship\', null, true)) {
                $modx->controller->addLastJavascript($AdminTools->getOption(\'jsUrl\') . \'mgr/templates.js\');
            }
            break;
        case \'OnDocFormPrerender\':
            $_html = array();
            if ($modx->getOption(\'admintools_template_resource_relationship\', null, true)) {
                $_html[\'tpl_res_relationship\'] = \'
            var tmpl = Ext.getCmp("modx-resource-template");
            if (tmpl.getValue()) tmpl.label.update(_("resource_template") + "&nbsp;&nbsp;<a href=\\"?a=element/template/update&id=" + tmpl.getValue() + "\\"><i class=\\"icon icon-external-link\\"></i></a>");\';
            }
            if ($modx->getOption(\'admintools_clear_only_resource_cache\', null, true) && $resource instanceof modResource) {
                $_html[\'create_resource_cache\'] = \'
            var cb = Ext.create({
                xtype: "xcheckbox",
                boxLabel: _("admintools_create_resource_cache"),
                description: _("admintools_create_resource_cache_help"),
                hideLabel: true,
                name: "createCache",
                id: "createCache",
                checked: \'. intval($modx->getOption(\'admintools_create_resource_cache\', null, false)) .\'
            });
            if (Ext.getCmp("modx-page-settings-right-box-right")) {
                Ext.getCmp("modx-page-settings-right-box-right").insert(2,cb);
                Ext.getCmp("modx-page-settings-right-box-left").add(Ext.getCmp("modx-resource-uri-override"));
                Ext.getCmp("modx-panel-resource").on("success", function(o){
                    if (o.result.object.createCache != 0) {
                        cb.setValue(true);
                    }
                });
            }\';
            }
            $output = \'\';
            if (!empty($_html)) {
            $output .= \'
    Ext.onReady(function() {
        setTimeout(function(){\' . implode("\\n", $_html) . \'
        }, 200);
    });\';
            }
            if ($modx->getOption(\'admintools_alternative_permissions\', null, true) && $modx->hasPermission(\'access_permissions\')) {
                $modx->controller->addLastJavascript($AdminTools->getOption(\'jsUrl\') . \'mgr/permissions.js\');
                $output .= \'
    Ext.ComponentMgr.onAvailable("modx-resource-tabs", function() {
		this.on("beforerender", function() {
			this.add({
				title: _("admintools_permissions"),
				border: false,
				items: [{
					layout: "anchor",
					border: false,
					items: [{
						html: _("admintools_permissions_desc"),
						border: false,
						bodyCssClass: "panel-desc"
					}, {
						xtype: "admintools-grid-permissions",
						anchor: "100%",
						cls: "main-wrapper",
						resource: \' . $id . \'
					}]
				}]
			});
		});
	});
\';
            }
            if (!empty($output)) $modx->controller->addHtml(\'<script type="text/javascript">\' . $output . \'</script>\');
            break;
        /*case \'OnWebPagePrerender\':
            $output = &$modx->resource->_output;
            $replace = "";
            preg_replace(\'/</script>/\', $replace, $output, 1);
            break;*/
    }
}',
    ),
  ),
  'a6869406df04a1dbca1803bdc1d8569e' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerPageBeforeRender',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerPageBeforeRender',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '109631ece609b26a7713ee584070b3ed' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnDocFormSave',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnDocFormSave',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '76e2bbd3e4ae829e68c5a10fa7845cc5' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerPageInit',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerPageInit',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '063b7b97ba5edb0d88008f122bf1bf93' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerAuthentication',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerAuthentication',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '1b43e8553367386fa80fd184a4e29105' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnTempFormPrerender',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnTempFormPrerender',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '1bda5adccea076c8ad3b5895281fbc3f' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnDocFormPrerender',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnDocFormPrerender',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '25909b8a25f3e2902f7393695aa4e70b' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnLoadWebDocument',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnLoadWebDocument',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
);