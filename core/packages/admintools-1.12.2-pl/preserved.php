<?php return array (
  '578901cde1ca0bb3cf59a1b754bac108' => 
  array (
    'criteria' => 
    array (
      'name' => 'admintools',
    ),
    'object' => 
    array (
      'name' => 'admintools',
      'path' => '{core_path}components/admintools/',
      'assets_path' => '',
    ),
  ),
  '097b3aa7d173d54d9ff42df8070dc914' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_favorites_icon',
    ),
    'object' => 
    array (
      'key' => 'admintools_favorites_icon',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'b98a4ec2ae9ee986e03b7c865945d2a3' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_check_elements_permissions',
    ),
    'object' => 
    array (
      'key' => 'admintools_check_elements_permissions',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_permissions',
      'editedon' => NULL,
    ),
  ),
  '247a58dc0396092bf4b7e22fa41b38d7' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_remember_system_settings',
    ),
    'object' => 
    array (
      'key' => 'admintools_remember_system_settings',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '7e3e50e79c00fb9189e5aadf6a54bc53' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_enable_elements_log',
    ),
    'object' => 
    array (
      'key' => 'admintools_enable_elements_log',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '26784a7bbbaf93718810c0bb418939c9' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_enable_favorite_elements',
    ),
    'object' => 
    array (
      'key' => 'admintools_enable_favorite_elements',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '945e40eda5dca2b5c7e2d0446be24d66' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_clear_only_resource_cache',
    ),
    'object' => 
    array (
      'key' => 'admintools_clear_only_resource_cache',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'f56e3ca7ea8554cfaf1749a085d41ca9' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_hide_component_description',
    ),
    'object' => 
    array (
      'key' => 'admintools_hide_component_description',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '941b82f6a51e59960e080f27cb8ad6f0' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_email_authorization',
    ),
    'object' => 
    array (
      'key' => 'admintools_email_authorization',
      'value' => '',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_authorization',
      'editedon' => NULL,
    ),
  ),
  '6eb8d99f6994f18859407046ee2fd98b' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_authorization_ttl',
    ),
    'object' => 
    array (
      'key' => 'admintools_authorization_ttl',
      'value' => '600',
      'xtype' => 'numberfield',
      'namespace' => 'admintools',
      'area' => 'admintools_authorization',
      'editedon' => NULL,
    ),
  ),
  '9555a17a5eff25d9a30c456e90ff5bed' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_loginform_resource',
    ),
    'object' => 
    array (
      'key' => 'admintools_loginform_resource',
      'value' => '',
      'xtype' => 'numberfield',
      'namespace' => 'admintools',
      'area' => 'admintools_authorization',
      'editedon' => NULL,
    ),
  ),
  '0acb54c68ef37abedb97768c641c38f2' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_enable_notes',
    ),
    'object' => 
    array (
      'key' => 'admintools_enable_notes',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '6cf254817c18a5e7a6f7160b71d0e2fc' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_template_resource_relationship',
    ),
    'object' => 
    array (
      'key' => 'admintools_template_resource_relationship',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'bf5c0160e6627ebf364bca93c973be9b' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_animate_menu',
    ),
    'object' => 
    array (
      'key' => 'admintools_animate_menu',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'ee5d9eb5e76fcf24dada5bb84d7740d0' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_alternative_permissions',
    ),
    'object' => 
    array (
      'key' => 'admintools_alternative_permissions',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_permissions',
      'editedon' => NULL,
    ),
  ),
  'ce249b99cd424f12a99afc820ca333e7' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_plugins_events',
    ),
    'object' => 
    array (
      'key' => 'admintools_plugins_events',
      'value' => '1',
      'xtype' => 'combo-boolean',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'f6f0f5a98337f22e9c47c13bc7513802' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_theme',
    ),
    'object' => 
    array (
      'key' => 'admintools_theme',
      'value' => 'default',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  '02f87704c39f091ea5159982af56a384' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_modx_tree_position',
    ),
    'object' => 
    array (
      'key' => 'admintools_modx_tree_position',
      'value' => 'left',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'b29982becf20b9d285881e9e3ad4f5af' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_custom_css',
    ),
    'object' => 
    array (
      'key' => 'admintools_custom_css',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'a2f797358cc3a5c9baa5e8d68d9c8b04' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_custom_js',
    ),
    'object' => 
    array (
      'key' => 'admintools_custom_js',
      'value' => '/assets/js/jquery-3.3.1.min.js',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => '2018-05-04 10:39:59',
    ),
  ),
  '32f405171bc31318b73c6d29fccb06cd' => 
  array (
    'criteria' => 
    array (
      'key' => 'admintools_package_actions',
    ),
    'object' => 
    array (
      'key' => 'admintools_package_actions',
      'value' => '',
      'xtype' => 'textfield',
      'namespace' => 'admintools',
      'area' => 'admintools_main',
      'editedon' => NULL,
    ),
  ),
  'b9fb1c691a4fa37ad7cefde330a3648a' => 
  array (
    'criteria' => 
    array (
      'category' => 'AdminTools',
    ),
    'object' => 
    array (
      'id' => 34,
      'parent' => 0,
      'category' => 'AdminTools',
      'rank' => 0,
    ),
  ),
  'e29b6babef6f9ad331881a9174e34966' => 
  array (
    'criteria' => 
    array (
      'name' => 'tpl.login.form',
    ),
    'object' => 
    array (
      'id' => 71,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'tpl.login.form',
      'description' => '',
      'editor_type' => 0,
      'category' => 34,
      'cache_type' => 0,
      'snippet' => '<div id="container">
	<div id="modx-login-logo">
		<!--[if gte IE 9]><!--><img src="/manager/templates/default/images/modx-logo-color.svg" alt="MODX CMS/CMF"><!--<![endif]-->
		<!--[if lt IE 9]><img alt="MODX CMS/CMF" src="/manager/templates/default/images/modx-logo-color.png" /><![endif]-->
	</div>

	<div class="modx-form" id="modx-login-panel">
		<div class="panel-title">
			<h2>[[++site_name]]</h2>
		</div>
		<div id="errormsg">[[+errormsg]]</div>
		<div class="panel-body">
			<form method="post" action="" id="manager-login-form">
				<div class="login-form-item">
					<div class="login-form-element">
						<input type="text" placeholder="[[%admintools_username_email]]" class="form-text" name="userdata" id="userdata" autocomplete="on">
					</div>
				</div>
				<div class="form-action">
					<button id="send-email-btn" value="1" type="button" class="primary-button login-form-btn">[[%admintools_send_authorization_link]]</button>
				</div>
			</form>
		</div>
	</div>
</div>',
      'locked' => 0,
      'properties' => NULL,
      'static' => 0,
      'static_file' => 'core/components/admintools/elements/chunks/chunk.login.form.tpl',
      'content' => '<div id="container">
	<div id="modx-login-logo">
		<!--[if gte IE 9]><!--><img src="/manager/templates/default/images/modx-logo-color.svg" alt="MODX CMS/CMF"><!--<![endif]-->
		<!--[if lt IE 9]><img alt="MODX CMS/CMF" src="/manager/templates/default/images/modx-logo-color.png" /><![endif]-->
	</div>

	<div class="modx-form" id="modx-login-panel">
		<div class="panel-title">
			<h2>[[++site_name]]</h2>
		</div>
		<div id="errormsg">[[+errormsg]]</div>
		<div class="panel-body">
			<form method="post" action="" id="manager-login-form">
				<div class="login-form-item">
					<div class="login-form-element">
						<input type="text" placeholder="[[%admintools_username_email]]" class="form-text" name="userdata" id="userdata" autocomplete="on">
					</div>
				</div>
				<div class="form-action">
					<button id="send-email-btn" value="1" type="button" class="primary-button login-form-btn">[[%admintools_send_authorization_link]]</button>
				</div>
			</form>
		</div>
	</div>
</div>',
    ),
  ),
  '87c86749e0b2a98b813bc1afa78690a2' => 
  array (
    'criteria' => 
    array (
      'name' => 'adminLogin',
    ),
    'object' => 
    array (
      'id' => 60,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'adminLogin',
      'description' => '',
      'editor_type' => 0,
      'category' => 34,
      'cache_type' => 0,
      'snippet' => '$path = $modx->getOption(\'admintools_core_path\', null, $modx->getOption(\'core_path\') . \'components/admintools/\').\'model/admintools/\';
/** @var AdminTools $AdminTools */
$AdminTools = $modx->getService(\'admintools\',\'AdminTools\',$path, $scriptProperties);
if (isset($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\') {
    $get = $modx->sanitize($_GET, $modx->sanitizePatterns);
    $get = array_map(\'trim\',$get);
    $success = true;
    $message = $modx->lexicon(\'admintools_link_is_sent\');
    if (empty($get[\'action\']) || $get[\'action\'] != \'login\') {
        $message = \'Access is denied\';
        $success = false;
    } elseif (empty($get[\'userdata\'])) {
        $message =  $modx->lexicon(\'admintools_enter_username_or_email\');
        $success = false;
    }
    if ($success) {
        if ($msg = $AdminTools->sendLoginLink($get)){
            $success = false;
            $message = $msg;
        };
    }
    $response = array(\'success\'=>$success, \'message\'=>$message);
    exit($modx->toJSON($response));
} else {
    if ($modx->user->isAuthenticated(\'mgr\')) {
        $url = $modx->getOption(\'manager_url\', null, MODX_MANAGER_URL);
        $url = $modx->getOption(\'url_scheme\', null, MODX_URL_SCHEME) . $modx->getOption(\'http_host\', null, MODX_HTTP_HOST) . rtrim($url, \'/\');
        $modx->sendRedirect($url);
    }
    $errormsg = \'\';
    if (isset($_GET[\'a\']) && isset($_GET[\'hash\']) && isset($_GET[\'id\'])) {
        $get = $modx->sanitize($_GET, $modx->sanitizePatterns);
        $data = $AdminTools->getLoginState($get[\'id\']);
        if (!empty($data) && $get[\'hash\'] == $data[\'hash\'] && !empty($data[\'uid\'])) {
            $key = md5($_SERVER[\'REMOTE_ADDR\'] . \'/\' . $_SERVER[\'HTTP_USER_AGENT\'] . $data[\'uid\']);
            if ($key == $get[\'id\']) {
                $errormsg = $AdminTools->loginUser($data[\'uid\']);
            }
        }
    }
    /** @var array $scriptProperties */
    $assetsUrl = $AdminTools->getOption(\'assetsUrl\');
    $modx->regClientCss($assetsUrl . \'css/mgr/login.css\');
    $modx->regClientScript($assetsUrl . \'js/mgr/login.js\');
    return $modx->getChunk($tpl,array(\'errormsg\'=>$errormsg));
}',
      'locked' => 0,
      'properties' => 'a:1:{s:3:"tpl";a:7:{s:4:"name";s:3:"tpl";s:4:"desc";s:19:"admintools_prop_tpl";s:4:"type";s:9:"textfield";s:7:"options";a:0:{}s:5:"value";s:14:"tpl.login.form";s:7:"lexicon";s:21:"admintools:properties";s:4:"area";s:0:"";}}',
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/admintools/elements/snippets/snippet.adminlogin.php',
      'content' => '$path = $modx->getOption(\'admintools_core_path\', null, $modx->getOption(\'core_path\') . \'components/admintools/\').\'model/admintools/\';
/** @var AdminTools $AdminTools */
$AdminTools = $modx->getService(\'admintools\',\'AdminTools\',$path, $scriptProperties);
if (isset($_SERVER[\'HTTP_X_REQUESTED_WITH\']) && $_SERVER[\'HTTP_X_REQUESTED_WITH\'] == \'XMLHttpRequest\') {
    $get = $modx->sanitize($_GET, $modx->sanitizePatterns);
    $get = array_map(\'trim\',$get);
    $success = true;
    $message = $modx->lexicon(\'admintools_link_is_sent\');
    if (empty($get[\'action\']) || $get[\'action\'] != \'login\') {
        $message = \'Access is denied\';
        $success = false;
    } elseif (empty($get[\'userdata\'])) {
        $message =  $modx->lexicon(\'admintools_enter_username_or_email\');
        $success = false;
    }
    if ($success) {
        if ($msg = $AdminTools->sendLoginLink($get)){
            $success = false;
            $message = $msg;
        };
    }
    $response = array(\'success\'=>$success, \'message\'=>$message);
    exit($modx->toJSON($response));
} else {
    if ($modx->user->isAuthenticated(\'mgr\')) {
        $url = $modx->getOption(\'manager_url\', null, MODX_MANAGER_URL);
        $url = $modx->getOption(\'url_scheme\', null, MODX_URL_SCHEME) . $modx->getOption(\'http_host\', null, MODX_HTTP_HOST) . rtrim($url, \'/\');
        $modx->sendRedirect($url);
    }
    $errormsg = \'\';
    if (isset($_GET[\'a\']) && isset($_GET[\'hash\']) && isset($_GET[\'id\'])) {
        $get = $modx->sanitize($_GET, $modx->sanitizePatterns);
        $data = $AdminTools->getLoginState($get[\'id\']);
        if (!empty($data) && $get[\'hash\'] == $data[\'hash\'] && !empty($data[\'uid\'])) {
            $key = md5($_SERVER[\'REMOTE_ADDR\'] . \'/\' . $_SERVER[\'HTTP_USER_AGENT\'] . $data[\'uid\']);
            if ($key == $get[\'id\']) {
                $errormsg = $AdminTools->loginUser($data[\'uid\']);
            }
        }
    }
    /** @var array $scriptProperties */
    $assetsUrl = $AdminTools->getOption(\'assetsUrl\');
    $modx->regClientCss($assetsUrl . \'css/mgr/login.css\');
    $modx->regClientScript($assetsUrl . \'js/mgr/login.js\');
    return $modx->getChunk($tpl,array(\'errormsg\'=>$errormsg));
}',
    ),
  ),
  '2451212f292783a1e0c7bb7c009534ac' => 
  array (
    'criteria' => 
    array (
      'name' => 'AdminTools',
    ),
    'object' => 
    array (
      'id' => 9,
      'source' => 1,
      'property_preprocess' => 0,
      'name' => 'AdminTools',
      'description' => '',
      'editor_type' => 0,
      'category' => 34,
      'cache_type' => 0,
      'plugincode' => '/** @var array $scriptProperties */
$path = $modx->getOption(\'admintools_core_path\', null, $modx->getOption(\'core_path\') . \'components/admintools/\').\'model/admintools/\';
/** @var AdminTools $AdminTools */
$AdminTools = $modx->getService(\'admintools\',\'AdminTools\',$path);
$elementType = null;
if ($AdminTools instanceof AdminTools) {
    switch ($modx->event->name) {
        case \'OnManagerPageBeforeRender\':
            if ($modx->user->id) $AdminTools->initialize();
            break;
        case \'OnDocFormSave\':
            if ($modx->getOption(\'admintools_clear_only_resource_cache\',null,false)) {
                if ($modx->event->params[\'mode\'] != \'upd\') {
                    return;
                }
                if ($resource->get(\'syncsite\')) {
                    $AdminTools->clearResourceCache($resource);
                }
                if (!empty($_POST[\'createCache\'])) {
                    $AdminTools->createResourceCache($resource->uri);
                }
            }
            break;
        case \'OnManagerPageInit\':
            if (!$modx->user->isAuthenticated(\'mgr\') && $modx->getOption(\'admintools_email_authorization\', null, false)) {
                $id = (int) $modx->getOption(\'admintools_loginform_resource\');
                if (!empty($id) && $modx->getCount(\'modResource\', array(\'id\'=>$id, \'published\'=>1, \'deleted\'=>0))) {
                    $url = $modx->makeUrl($id,\'\',\'\',\'full\');
                    $modx->setOption(\'manager_login_url_alternate\', $url);
                }
            }
            break;
        case \'OnManagerAuthentication\':
            if ($modx->getOption(\'admintools_user_can_login\', null, false)) {
                $modx->setOption(\'admintools_user_can_login\', false);
                $modx->event->output(array(\'true\'));
            }
            break;
        case \'OnLoadWebDocument\':
            if ($modx->user->isAuthenticated($modx->context->get(\'key\')) && (!$modx->user->active || $modx->user->Profile->blocked)) {
                $modx->runProcessor(\'security/logout\');
            }
            if ($modx->getOption(\'admintools_alternative_permissions\', null, false) && !$AdminTools->hasPermissions()){
                $modx->sendUnauthorizedPage();
            }
            break;
        case \'OnTempFormPrerender\':
            if ($modx->getOption(\'admintools_template_resource_relationship\', null, true)) {
                $modx->controller->addLastJavascript($AdminTools->getOption(\'jsUrl\') . \'mgr/templates.js\');
            }
            break;
        case \'OnDocFormPrerender\':
            $_html = array();
            if ($modx->getOption(\'admintools_template_resource_relationship\', null, true)) {
                $_html[\'tpl_res_relationship\'] = \'
            var tmpl = Ext.getCmp("modx-resource-template");
            if (tmpl.getValue()) tmpl.label.update(_("resource_template") + "&nbsp;&nbsp;<a href=\\"?a=element/template/update&id=" + tmpl.getValue() + "\\"><i class=\\"icon icon-external-link\\"></i></a>");\';
            }
            if ($modx->getOption(\'admintools_clear_only_resource_cache\', null, true) && $resource instanceof modResource) {
                $_html[\'create_resource_cache\'] = \'
            var cb = Ext.create({
                xtype: "xcheckbox",
                boxLabel: _("admintools_create_resource_cache"),
                description: _("admintools_create_resource_cache_help"),
                hideLabel: true,
                name: "createCache",
                id: "createCache",
                checked: \'. intval($modx->getOption(\'admintools_create_resource_cache\', null, false)) .\'
            });
            if (Ext.getCmp("modx-page-settings-right-box-right")) {
                Ext.getCmp("modx-page-settings-right-box-right").insert(2,cb);
                Ext.getCmp("modx-page-settings-right-box-left").add(Ext.getCmp("modx-resource-uri-override"));
                Ext.getCmp("modx-panel-resource").on("success", function(o){
                    if (o.result.object.createCache != 0) {
                        cb.setValue(true);
                    }
                });
            }\';
            }
            $output = \'\';
            if (!empty($_html)) {
            $output .= \'
    Ext.onReady(function() {
        setTimeout(function(){\' . implode("\\n", $_html) . \'
        }, 200);
    });\';
            }
            if ($modx->getOption(\'admintools_alternative_permissions\', null, true) && $modx->hasPermission(\'access_permissions\')) {
                $modx->controller->addLastJavascript($AdminTools->getOption(\'jsUrl\') . \'mgr/permissions.js\');
                $output .= \'
    Ext.ComponentMgr.onAvailable("modx-resource-tabs", function() {
		this.on("beforerender", function() {
			this.add({
				title: _("admintools_permissions"),
				border: false,
				items: [{
					layout: "anchor",
					border: false,
					items: [{
						html: _("admintools_permissions_desc"),
						border: false,
						bodyCssClass: "panel-desc"
					}, {
						xtype: "admintools-grid-permissions",
						anchor: "100%",
						cls: "main-wrapper",
						resource: \' . $id . \'
					}]
				}]
			});
		});
	});
\';
            }
            if (!empty($output)) $modx->controller->addHtml(\'<script type="text/javascript">\' . $output . \'</script>\');
            break;
        /*case \'OnWebPagePrerender\':
            $output = &$modx->resource->_output;
            $replace = "";
            preg_replace(\'/</script>/\', $replace, $output, 1);
            break;*/
    }
}',
      'locked' => 0,
      'properties' => NULL,
      'disabled' => 0,
      'moduleguid' => '',
      'static' => 0,
      'static_file' => 'core/components/admintools/elements/plugins/plugin.admintools.php',
      'content' => '/** @var array $scriptProperties */
$path = $modx->getOption(\'admintools_core_path\', null, $modx->getOption(\'core_path\') . \'components/admintools/\').\'model/admintools/\';
/** @var AdminTools $AdminTools */
$AdminTools = $modx->getService(\'admintools\',\'AdminTools\',$path);
$elementType = null;
if ($AdminTools instanceof AdminTools) {
    switch ($modx->event->name) {
        case \'OnManagerPageBeforeRender\':
            if ($modx->user->id) $AdminTools->initialize();
            break;
        case \'OnDocFormSave\':
            if ($modx->getOption(\'admintools_clear_only_resource_cache\',null,false)) {
                if ($modx->event->params[\'mode\'] != \'upd\') {
                    return;
                }
                if ($resource->get(\'syncsite\')) {
                    $AdminTools->clearResourceCache($resource);
                }
                if (!empty($_POST[\'createCache\'])) {
                    $AdminTools->createResourceCache($resource->uri);
                }
            }
            break;
        case \'OnManagerPageInit\':
            if (!$modx->user->isAuthenticated(\'mgr\') && $modx->getOption(\'admintools_email_authorization\', null, false)) {
                $id = (int) $modx->getOption(\'admintools_loginform_resource\');
                if (!empty($id) && $modx->getCount(\'modResource\', array(\'id\'=>$id, \'published\'=>1, \'deleted\'=>0))) {
                    $url = $modx->makeUrl($id,\'\',\'\',\'full\');
                    $modx->setOption(\'manager_login_url_alternate\', $url);
                }
            }
            break;
        case \'OnManagerAuthentication\':
            if ($modx->getOption(\'admintools_user_can_login\', null, false)) {
                $modx->setOption(\'admintools_user_can_login\', false);
                $modx->event->output(array(\'true\'));
            }
            break;
        case \'OnLoadWebDocument\':
            if ($modx->user->isAuthenticated($modx->context->get(\'key\')) && (!$modx->user->active || $modx->user->Profile->blocked)) {
                $modx->runProcessor(\'security/logout\');
            }
            if ($modx->getOption(\'admintools_alternative_permissions\', null, false) && !$AdminTools->hasPermissions()){
                $modx->sendUnauthorizedPage();
            }
            break;
        case \'OnTempFormPrerender\':
            if ($modx->getOption(\'admintools_template_resource_relationship\', null, true)) {
                $modx->controller->addLastJavascript($AdminTools->getOption(\'jsUrl\') . \'mgr/templates.js\');
            }
            break;
        case \'OnDocFormPrerender\':
            $_html = array();
            if ($modx->getOption(\'admintools_template_resource_relationship\', null, true)) {
                $_html[\'tpl_res_relationship\'] = \'
            var tmpl = Ext.getCmp("modx-resource-template");
            if (tmpl.getValue()) tmpl.label.update(_("resource_template") + "&nbsp;&nbsp;<a href=\\"?a=element/template/update&id=" + tmpl.getValue() + "\\"><i class=\\"icon icon-external-link\\"></i></a>");\';
            }
            if ($modx->getOption(\'admintools_clear_only_resource_cache\', null, true) && $resource instanceof modResource) {
                $_html[\'create_resource_cache\'] = \'
            var cb = Ext.create({
                xtype: "xcheckbox",
                boxLabel: _("admintools_create_resource_cache"),
                description: _("admintools_create_resource_cache_help"),
                hideLabel: true,
                name: "createCache",
                id: "createCache",
                checked: \'. intval($modx->getOption(\'admintools_create_resource_cache\', null, false)) .\'
            });
            if (Ext.getCmp("modx-page-settings-right-box-right")) {
                Ext.getCmp("modx-page-settings-right-box-right").insert(2,cb);
                Ext.getCmp("modx-page-settings-right-box-left").add(Ext.getCmp("modx-resource-uri-override"));
                Ext.getCmp("modx-panel-resource").on("success", function(o){
                    if (o.result.object.createCache != 0) {
                        cb.setValue(true);
                    }
                });
            }\';
            }
            $output = \'\';
            if (!empty($_html)) {
            $output .= \'
    Ext.onReady(function() {
        setTimeout(function(){\' . implode("\\n", $_html) . \'
        }, 200);
    });\';
            }
            if ($modx->getOption(\'admintools_alternative_permissions\', null, true) && $modx->hasPermission(\'access_permissions\')) {
                $modx->controller->addLastJavascript($AdminTools->getOption(\'jsUrl\') . \'mgr/permissions.js\');
                $output .= \'
    Ext.ComponentMgr.onAvailable("modx-resource-tabs", function() {
		this.on("beforerender", function() {
			this.add({
				title: _("admintools_permissions"),
				border: false,
				items: [{
					layout: "anchor",
					border: false,
					items: [{
						html: _("admintools_permissions_desc"),
						border: false,
						bodyCssClass: "panel-desc"
					}, {
						xtype: "admintools-grid-permissions",
						anchor: "100%",
						cls: "main-wrapper",
						resource: \' . $id . \'
					}]
				}]
			});
		});
	});
\';
            }
            if (!empty($output)) $modx->controller->addHtml(\'<script type="text/javascript">\' . $output . \'</script>\');
            break;
        /*case \'OnWebPagePrerender\':
            $output = &$modx->resource->_output;
            $replace = "";
            preg_replace(\'/</script>/\', $replace, $output, 1);
            break;*/
    }
}',
    ),
  ),
  '58460be16b9ea0d6e965b04c49e6d2c1' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerPageBeforeRender',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerPageBeforeRender',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '715688b2c514de27ea4c727d5b818a7d' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnDocFormSave',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnDocFormSave',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '60fccff9d0e0135b2b9d0eda058b77bc' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerPageInit',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerPageInit',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  'b863cb673a054c461943151e4e57e10e' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerAuthentication',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnManagerAuthentication',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '5f92b358093522b85661e5538cec3d71' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnTempFormPrerender',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnTempFormPrerender',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '2571546a2f9178a02bffe9decd58fb33' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnDocFormPrerender',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnDocFormPrerender',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
  '9a91093ecb062048e8ed6a56ae8a5d6a' => 
  array (
    'criteria' => 
    array (
      'pluginid' => 9,
      'event' => 'OnLoadWebDocument',
    ),
    'object' => 
    array (
      'pluginid' => 9,
      'event' => 'OnLoadWebDocument',
      'priority' => 0,
      'propertyset' => 0,
    ),
  ),
);